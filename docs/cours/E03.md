# E03

## twig

```bash
composer require twig
```

Quand on installe twig, il nous créer le dossier `templates` et dedans il nous génère un fichier `base.html.twig`

Ce fichier est appelé `layout`, c'est le squelette de nos templates.

Dans le terme squelette il faut comprendre un système à trou.
On va avoir des trous dans notre mise en page, quu l'on pourrat remplir.
Ces trous s'appele des `block`
ils sont définit par deux balises twig, le début du block et la fin du block

```twig
{% block body %}
    <h1> Le Contenu </h1>
{% endblock %}
```

Dans la balise de début du block, on nomme le block, ex: `body`

### comment on utilise le layout ?

Pour utiliser le layout, nos templates doivent hériter du template `base.html.twig`

```twig
{% extends 'base.html.twig' %}
```

chacun des block peut avoir un contenu par défaut, ce qui rend les block non obligatoire
Si je ne remplis pas un block dans un template enfant, il aura la valeur qui est dans le layout

ici, le layout a mis une valeur par défaut au block `title`

```twig
{% block title %}Welcome!{% endblock %}
```

l'ordre des block dans un template enfant n'a aucune importance.

### le language twig

```twig
{% block block_name %}{% endblock %}
{% extends %}
{% include %}
```

On utilise les `{% %}` pour les instructions de twig

```twig
{# le commentaire #}
{# 
le commentaire 
sur plusieur lignes
#}
```

```twig
{{ variable }}
```

la double accolade est pour écrire, c'est à dire faire un `echo`

équivalent à 

```php
echo $variable
```

### comment on donne des variables à twig ?

on fait passer des données via la méthode `render()` dans notre controller

on donne toutes les données avec un tableau associatif.
la clé du tableau deviendra le nom de la variable dans twig

```php
$twigResponse = $this->render("main/home.html.twig",
        [
            "monTexteKilEstBo" => $demoData
        ]);
```

```twig
{% block title %}
    {{ monTexteKilEstBo }}
{% endblock %}
```

On remarque qu'il n'y a pas de `$` dans les variables twig

## annexes

### activer emmet dans twig

aller dans les paramètres, chercher `emmet`, puis `Emmet: Include Languages` ajouter élément `twig` et valeur `html`
